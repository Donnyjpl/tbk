{% extends 'baset.html' %}

{% block title %} TBK{% endblock %}

{% block content %}
{% load static %}
{% load custom_filters %}

<body>
    <!-- Modal -->
    <div class="modal fade bg-white" id="templatemo_search" tabindex="-1" role="dialog"
        aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg" role="document">
            <div class="w-100 pt-1 mb-5 text-right">
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <form action="" method="get" class="modal-content modal-body border-0 p-0">
                <div class="input-group mb-2">
                    <input type="text" class="form-control" id="inputModalSearch" name="q" placeholder="Search ...">
                    <button type="submit" class="input-group-text bg-success text-light">
                        <i class="fa fa-fw fa-search text-white"></i>
                    </button>
                </div>
            </form>
        </div>
    </div>
    <!-- Start Banner Hero -->
    <div id="template-mo-zay-hero-carousel" class="carousel slide" data-bs-ride="carousel">
        <ol class="carousel-indicators">
            <li data-bs-target="#template-mo-zay-hero-carousel" data-bs-slide-to="0" class="active"></li>
            <li data-bs-target="#template-mo-zay-hero-carousel" data-bs-slide-to="1"></li>
            <li data-bs-target="#template-mo-zay-hero-carousel" data-bs-slide-to="2"></li>
        </ol>
        <div class="carousel-inner">
            <div class="carousel-item active">
                <div class="container">
                    <div class="row p-5">
                        <div class="mx-auto col-md-8 col-lg-6 order-lg-last">
                            <img class="img-fluid" src="{% static 'img/banner_img_01.jpg' %}" alt="">
                        </div>
                        <div class="col-lg-6 mb-0 d-flex align-items-center">
                            <div class="text-align-left align-self-center">
                                <h1 class="h1 text-success"><b>Bienvenida a</b> TBK</h1>
                                <h3 class="h2">Tu tienda online de moda para todas las ocasiones</h3>
                                <p>
                                    En TBK, nos dedicamos a ofrecer lo mejor de la moda con una amplia selección de ropa
                                    de marca de alta calidad. Somos una tienda virtual que te brinda una experiencia de
                                    compra cercana y personalizada.
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="carousel-item">
                <div class="container">
                    <div class="row p-5">
                        <div class="mx-auto col-md-8 col-lg-6 order-lg-last">
                            <img class="img-fluid" src=" {% static 'img/banner_img_02.jpg' %}" alt="">
                        </div>
                        <div class="col-lg-6 mb-0 d-flex align-items-center">
                            <div class="text-align-left">
                                <h1 class="h1">Explorar la Tienda</h1>
                                <h3 class="h2">
                                    <!-- Botón para ir a la tienda -->
                                    <a href="{% url 'shop' %}" class="btn btn-lg btn-success shadow-sm">Explorar la
                                        Tienda</a></h3>
                                <p>
                                    ¿Estás lista para tu próxima compra? ¡Explora nuestras colecciones y encuentra tu
                                    look perfecto!
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="carousel-item">
                <div class="container">
                    <div class="row p-5">
                        <div class="mx-auto col-md-8 col-lg-6 order-lg-last">
                            <img class="img-fluid" src="{% static 'img/banner_img_03.jpg' %}" alt="">
                        </div>
                        <div class="col-lg-6 mb-0 d-flex align-items-center">
                            <div class="text-align-left">
                                <h1 class="h1">Tendencias de Moda 2025</h1>
                                <h3 class="h2">Revoluciona tu closet con lo último en estilo.</h3>
                                <p>
                                    Desde ropa casual hasta elegante, tenemos todo lo que necesitas para que luzcas
                                    espectacular.
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <a class="carousel-control-prev text-decoration-none w-auto ps-3" href="#template-mo-zay-hero-carousel"
            role="button" data-bs-slide="prev">
            <i class="fas fa-chevron-left"></i>
        </a>
        <a class="carousel-control-next text-decoration-none w-auto pe-3" href="#template-mo-zay-hero-carousel"
            role="button" data-bs-slide="next">
            <i class="fas fa-chevron-right"></i>
        </a>
    </div>
    <!-- End Banner Hero -->


    <!-- Start Categories of The Month -->
    <section class="container py-5">
        <div class="row text-center pt-3">
            <div class="col-lg-6 m-auto">
                <h1 class="h1">Categorías del Mes</h1>
                <p>
                    Explora las categorías destacadas de este mes, con productos exclusivos para ti.
                </p>
            </div>
        </div>
        <div class="row">
            <div class="col-12 col-md-4 p-5 mt-3">
                <a href="{% url 'shop' %}"><img src=" {% static 'img/shop_03.jpg' %}"
                        class="rounded-circle img-fluid border"></a>
                <h5 class="text-center mt-3 mb-3">Vestidos y Enteritos</h5>
                <p class="text-center"><a class="btn btn-success" href="{% url 'shop' %}">Explorar</a></p>
            </div>
            <div class="col-12 col-md-4 p-5 mt-3">
                <a href="{% url 'shop' %}"><img src=" {% static 'img/shop_02.jpg' %}"
                        class="rounded-circle img-fluid border"></a>
                <h2 class="h5 text-center mt-3 mb-3">Poleras, Blusas , Tops y Bodys</h2>
                <p class="text-center"><a class="btn btn-success" href="{% url 'shop' %}">Explorar</a></p>
            </div>
            <div class="col-12 col-md-4 p-5 mt-3">
                <a href="{% url 'shop' %}"><img src=" {% static 'img/shop_01.jpg' %}"
                        class="rounded-circle img-fluid border"></a>
                <h2 class="h5 text-center mt-3 mb-3">Accesorios</h2>
                <p class="text-center"><a class="btn btn-success" href="{% url 'shop' %}">Explorar</a></p>
            </div>
        </div>
    </section>
    <!-- End Categories of The Month -->
    <!-- Productos destacados -->
    <!-- Start Productos Destacados -->
    <section class="container py-5">
        <div class="row text-center pt-3">
            <div class="col-lg-6 m-auto">
                <h1 class="h1">Productos Destacados</h1>
                <p>
                    Productos especialmente seleccionados para ti, diseñados para resaltar tu estilo único.
                </p>
            </div>
        </div>

        <div class="row mt-5 justify-content-center">
            {% for producto in productos_destacados %}
            <div class="col-12 col-md-4 mb-4">
                <div class="card shadow-lg border-0 rounded">
                    <!-- Mostrar imagen del producto -->
                    {% if producto.imagenes_list.all %}
                    <img class="card-img-top product-card-img" src="{{ producto.imagenes_list.first.imagen.url }}"
                        alt="{{ producto.nombre }}">
                    {% else %}
                    <img class="card-img-top product-card-img" src="{% static 'images/no-image.png' %}"
                        alt="Imagen no disponible">
                    {% endif %}

                    <div class="card-body text-center">
                        <h5 class="card-title fw-bold text-dark">{{ producto.nombre|title }}</h5>
                        <p class="card-text text-muted">${{ producto.precio|formatear_precio }}</p>

                        <!-- Valoración de estrellas -->
                        <p class="py-2">
                            <ul class="list-unstyled d-flex justify-content-center mb-1">
                                {% for i in rango_estrellas %}
                                {% if i <= producto.promedio %}
                                <li><i class="text-warning fa fa-star"></i></li> <!-- Estrella llena -->
                                {% else %}
                                <li><i class="fa fa-star"></i></li> <!-- Estrella vacía -->
                                {% endif %}
                                {% endfor %}
                            </ul>
                            <span class="list-inline-item text-dark">
                                {{ producto.promedio|floatformat:0 }} de 5 Estrellas |
                                {{ producto.opiniones.count }} Comentarios
                            </span>
                        </p>

                        <!-- Tallas disponibles -->
                        <p class="text-center">
                            <strong>Tallas disponibles:</strong>
                            {% if producto.tallas_list %}
                            <span class="badge bg-info">
                                {% for producto_talla in producto.tallas_list %}
                                {{ producto_talla.talla|upper }}{% if not forloop.last %}, {% endif %}
                                {% endfor %}
                            </span>
                            {% else %}
                            <span>No disponible</span>
                            {% endif %}
                        </p>

                        <!-- Enlace al detalle del producto -->
                        <a href="{% url 'producto_detalle' slug=producto.slug %}" class="btn btn-success mt-2">Ver
                            más</a>
                    </div>
                </div>
            </div>
            {% empty %}
            <p class="text-center">No hay productos destacados disponibles.</p>
            {% endfor %}
        </div>
    </section>
    <!-- End Productos Destacados -->
 </body>
    <!-- End Featured Product -->
    {% endblock  %}